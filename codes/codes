ya mera header.jsx ha import React, { useState, useEffect } from "react"
import { useSelector, useDispatch } from "react-redux"
import { useNavigate } from "react-router-dom"
import { logout } from "../redux/slices/authSlice"
import {
  FiSearch,
  FiShoppingCart,
  FiHeart,
  FiMenu,
  FiX,
  FiChevronDown,
  FiUser,
  FiLogOut
} from "react-icons/fi"
import { MdKeyboardArrowDown } from "react-icons/md"
import AuthModal from "./AuthModal"
import { useCart } from "../context/CartContext"
import "./Header.css"

function Header() {
  const dispatch = useDispatch()
  const navigate = useNavigate()

  // âœ… SAFE CART CONTEXT FIX
  const cartContext = useCart()
  const cart = cartContext?.cart || []

  const [sidebarOpen, setSidebarOpen] = useState(false)
  const [authOpen, setAuthOpen] = useState(false)
  const [authMode, setAuthMode] = useState("login")
  const [profileDropdown, setProfileDropdown] = useState(false)
  const [isScrolled, setIsScrolled] = useState(false)
  const [openDropdown, setOpenDropdown] = useState(null)

  const { user, isAuthenticated } = useSelector((state) => state.auth)

  useEffect(() => {
    const handleScroll = () => setIsScrolled(window.scrollY > 10)
    window.addEventListener("scroll", handleScroll)
    return () => window.removeEventListener("scroll", handleScroll)
  }, [])

  const toggleSidebar = () => setSidebarOpen(!sidebarOpen)
  const closeSidebar = () => setSidebarOpen(false)
  const toggleDropdown = (name) =>
    setOpenDropdown(openDropdown === name ? null : name)

  const handleProfileClick = () =>
    setProfileDropdown(!profileDropdown)

  const handleLogout = () => {
    dispatch(logout())
    setProfileDropdown(false)
  }

  const totalItems = cart.reduce(
    (acc, item) => acc + (item.quantity || 1),
    0
  )

  return (
    <>
      <header className={`header ${isScrolled ? "scrolled" : ""}`}>
        <div className="header-container">

          {/* Hamburger */}
          <button className="hamburger-btn" onClick={toggleSidebar}>
            {sidebarOpen ? <FiX size={24} /> : <FiMenu size={24} />}
          </button>

          {/* Logo */}
          <div className="logo">
            <img
              src="https://baroque.pk/cdn/shop/files/LOGO_PNG_white_v01.png?v=1689675745&width=280"
              alt="Baroque.pk"
              height="40"
              onClick={() => navigate("/")}
              style={{ cursor: "pointer" }}
            />
          </div>

          {/* Right Icons */}
          <div className="header-right">

            {/* Country Selector */}
            <div className="country-dropdown-wrapper">
              <button className="country-dropdown">
                <span>Pakistan</span>
                <MdKeyboardArrowDown size={16} />
              </button>
              <div className="country-menu">
                <a href="#pk">Pakistan</a>
                <a href="#us">United States</a>
                <a href="#uk">United Kingdom</a>
                <a href="#uae">United Arab Emirates</a>
              </div>
            </div>

            {/* Profile */}
            <div className={`profile-wrapper ${profileDropdown ? "active" : ""}`}>
              <button className="icon-btn" onClick={handleProfileClick}>
                <FiUser size={20} />
              </button>

              <div className="profile-dropdown">
                {isAuthenticated && user ? (
                  <>
                    <div className="profile-header">
                      <p className="profile-name">{user.name}</p>
                      <p className="profile-email">{user.email}</p>
                    </div>

                    <div className="profile-divider"></div>

                    <button className="profile-item">
                      <FiUser size={16} /> My Profile
                    </button>

                    <div className="profile-divider"></div>

                    <button
                      className="profile-logout"
                      onClick={handleLogout}
                    >
                      <FiLogOut size={16} /> Logout
                    </button>
                  </>
                ) : (
                  <div className="profile-auth-buttons">
                    <button
                      className="profile-login"
                      onClick={() => {
                        setAuthMode("login")
                        setAuthOpen(true)
                        setProfileDropdown(false)
                      }}
                    >
                      Login
                    </button>

                    <button
                      className="profile-signup"
                      onClick={() => {
                        setAuthMode("register")
                        setAuthOpen(true)
                        setProfileDropdown(false)
                      }}
                    >
                      Sign Up
                    </button>
                  </div>
                )}
              </div>
            </div>

            {/* Search */}
            <button className="icon-btn" title="Search">
              <FiSearch size={20} />
            </button>

            {/* Cart */}
            <button
              className="icon-btn cart-btn"
              title="Cart"
              onClick={() => navigate("/cart")}
            >
              <FiShoppingCart size={20} />
              {totalItems > 0 && (
                <span className="cart-count">{totalItems}</span>
              )}
            </button>

            {/* Wishlist */}
            <button
              className="icon-btn"
              title="Wishlist"
              onClick={() => navigate("/favourites")}
            >
              <FiHeart size={20} />
            </button>

          </div>
        </div>
      </header>

      {/* Sidebar */}
      <div className={`sidebar ${sidebarOpen ? "open" : ""}`}>
        <div className="sidebar-content">
          <button className="sidebar-close" onClick={closeSidebar}>
            <FiX size={28} />
          </button>

          <nav className="sidebar-menu">
            <div className="sidebar-menu-item">
              <div className="sidebar-menu-header">
                <a href="#" onClick={closeSidebar}>Home</a>
                <button onClick={() => toggleDropdown("home")}>
                  <FiChevronDown size={18} />
                </button>
              </div>

              {openDropdown === "home" && (
                <div className="dropdown-submenu">
                  <a href="#">Featured</a>
                  <a href="#">New Arrivals</a>
                </div>
              )}
            </div>

            <a href="#" onClick={closeSidebar}>Men</a>
            <a href="#" onClick={closeSidebar}>Women</a>
            <a href="#" onClick={closeSidebar}>Collection</a>
            <a href="#" onClick={closeSidebar}>Sale</a>
            <a href="#" onClick={closeSidebar}>Contact</a>
          </nav>
        </div>
      </div>

      {sidebarOpen && (
        <div className="sidebar-overlay" onClick={closeSidebar}></div>
      )}

      <AuthModal
        isOpen={authOpen}
        onClose={() => setAuthOpen(false)}
        initialMode={authMode}
      />
    </>
  )
}

export default Header
ya oski css file ha   /* Header Styling */
.header {
  background-color: transparent;
  box-shadow: none;
  position: sticky;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
  transition: all 0.3s ease;
}
.absolute {
  position: absolute;
  width: 100%;
  top: 40px;
  left: 0;
}
.header.scrolled {
  background-color: white;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.header-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.75rem 1rem;
  max-width: 1400px;
  margin: 0 auto;
  color: #000;
  transition: color 0.3s ease;
  gap: 1rem;
}

.header.scrolled .header-container {
  color: #333;
}

/* Left Section */
.header-left {
  display: none;
}

/* Right Section */
.header-right {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  flex: 0 0 auto;
}

/* Hamburger Menu Button */
.hamburger-btn {
  background: none;
  border: none;
  cursor: pointer;
  color: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  font-size: 1.5rem;
  transition: color 0.3s ease;
  flex: 0 0 auto;
  margin-right: 1rem;
  min-width: 44px;
  min-height: 44px;
}

.header.scrolled .hamburger-btn {
  color: #000;
}

.hamburger-btn:hover {
  color: #8b6f47;
}

/* Logo - Center */
.logo {
  display: flex;
  align-items: center;
  justify-content: center;
  flex: 1;
  min-width: 0;
}

.logo img {
  max-width: 120px;
  height: auto;
  object-fit: contain;
  transition: filter 0.3s ease;
}

.header.scrolled .logo img {
  filter: invert(1);
}

/* Right Side Icons Container */
.header-icons {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex: 0 0 auto;
}

/* Icon Button Styling */
.icon-btn {
  background: none;
  border: none;
  cursor: pointer;
  color: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  transition: color 0.3s ease;
  font-size: 1.25rem;
  min-width: 44px;
  min-height: 44px;
  position: relative;
}

.header.scrolled .icon-btn {
  color: #000;
}

.icon-btn:hover {
  color: #8b6f47;
}

/* Cart Icon Badge */
.cart-icon-btn {
  position: relative;
}

.cart-badge {
  position: absolute;
  top: -5px;
  right: -5px;
  background-color: #d9534f;
  color: white;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 700;
  border: 2px solid white;
}.icon-btn:hover {
  color: #8b6f47;
}

/* Country Dropdown Styling */
.country-dropdown-wrapper {
  position: relative;
  display: inline-block;
}

.country-dropdown {
  background: none;
  border: none;
  cursor: pointer;
  color: #000;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  padding: 0.5rem 0.25rem;
  transition: color 0.3s ease;
  min-height: 44px;
  min-width: auto;
}

.header.scrolled .country-dropdown {
  color: #000;
}

.country-dropdown:hover {
  color: #8b6f47;
}

.country-text {
  color: #000;
  font-size: 0.875rem;
}

.header.scrolled .country-text {
  color: #000;
}

.country-dropdown:hover .country-text {
  color: #8b6f47;
}

/* Country Menu Dropdown */
.country-menu {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
  min-width: 150px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  z-index: 1000;
  margin-top: 0.5rem;
}

.country-dropdown-wrapper:hover .country-menu {
  display: block;
}

.country-menu a {
  display: block;
  padding: 0.75rem 1rem;
  color: #333;
  text-decoration: none;
  transition: all 0.2s ease;
}

.country-menu a:first-child {
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
}

.country-menu a:last-child {
  border-bottom-left-radius: 4px;
  border-bottom-right-radius: 4px;
}

.country-menu a:hover {
  background-color: #f5f5f5;
  color: #8b6f47;
}

/* Sidebar Styling */
.sidebar {
  position: fixed;
  left: 0;
  top: 0;
  height: 100vh;
  width: 350px;
  background-color: white;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
  z-index: 999;
  transform: translateX(-100%);
  transition: transform 0.3s ease;
}

.sidebar.open {
  transform: translateX(0);
}

.sidebar-content {
  display: flex;
  flex-direction: column;
  height: 100%;
  padding: 1rem;
}

.sidebar-close {
  background: none;
  border: none;
  cursor: pointer;
  color: #333;
  font-size: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding: 0.5rem;
  margin-bottom: 1.5rem;
}

.sidebar-close:hover {
  color: #8b6f47;
}

.sidebar-menu {
  display: flex;
  flex-direction: column;
  gap: 0;
}

.sidebar-menu-item {
  border-bottom: 1px solid #f0f0f0;
}

.sidebar-menu-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 0.5rem;
}

.sidebar-menu-header a {
  flex: 1;
  color: #333;
  text-decoration: none;
  font-weight: 300;
  transition: color 0.3s ease;
}

.sidebar-menu-header a:hover {
  color: #8b6f47;
}

.dropdown-toggle {
  background: none;
  border: none;
  cursor: pointer;
  color: #999;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  transition: all 0.3s ease;
  font-size: 1rem;
}

.dropdown-toggle:hover {
  color: #8b6f47;
}

.dropdown-toggle.open {
  color: #8b6f47;
  transform: rotate(180deg);
}

.dropdown-submenu {
  background-color: #f9f9f9;
  display: flex;
  flex-direction: column;
  padding: 0 0.5rem 1rem 2rem;
  gap: 0;
  animation: slideDown 0.3s ease;
}

@keyframes slideDown {
  from {
    opacity: 0;
    max-height: 0;
  }
  to {
    opacity: 1;
    max-height: 300px;
  }
}

.dropdown-submenu a {
  padding: 0.5rem 0;
  color: #666;
  text-decoration: none;
  transition: all 0.2s ease;
  font-size: 0.9rem;
  font-weight: 300;
  border-left: 3px solid transparent;
  padding-left: 0.75rem;
}

.dropdown-submenu a:hover {
  color: #8b6f47;
  border-left-color: #8b6f47;
  padding-left: 1rem;
}

.sidebar-menu > a {
  padding: 1rem 0.5rem;
  color: #333;
  text-decoration: none;
  border-bottom: 1px solid #f0f0f0;
  transition: all 0.3s ease;
  font-weight: 300;
}

.sidebar-menu > a:hover {
  color: #8b6f47;
  padding-left: 1rem;
}

/* Sidebar Overlay */
.sidebar-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 998;
}

/* Mobile Responsive */
@media (max-width: 768px) {
  .header-container {
    padding: 0.75rem 0.75rem;
  }

  .hamburger-btn {
    margin-right: 0.5rem;
    font-size: 1.25rem;
  }

  .header-icons {
    gap: 0.75rem;
  }

  .icon-btn {
    font-size: 1rem;
    padding: 0.4rem;
  }

  .country-dropdown {
    font-size: 0.7rem;
    padding: 0.4rem 0.2rem;
  }

  .country-text {
    font-size: 0.7rem;
  }

  .logo img {
    max-width: 90px;
  }
}
/* Profile Wrapper and Dropdown */
.profile-wrapper {
  position: relative;
  display: inline-block;
}

.profile-dropdown {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border: 1px solid #ddd;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  min-width: 250px;
  margin-top: 0.5rem;
  z-index: 1000;
  animation: slideDown 0.3s ease;
}

.profile-wrapper.active .profile-dropdown {
  display: block;
}

.profile-header {
  padding: 1rem;
  background: linear-gradient(135deg, #8b6f47 0%, #6d5a3a 100%);
  border-radius: 8px 8px 0 0;
  color: white;
}

.profile-name {
  font-weight: 600;
  font-size: 1rem;
  margin-bottom: 0.25rem;
}

.profile-email {
  font-size: 0.875rem;
  opacity: 0.9;
}

.profile-divider {
  height: 1px;
  background-color: #eee;
  margin: 0.5rem 0;
}

.profile-item {
  padding: 0.75rem 1rem;
  cursor: pointer;
  transition: background-color 0.2s ease;
  color: #333;
  font-size: 0.95rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.profile-item:hover {
  background-color: #f5f5f5;
  color: #8b6f47;
}

.profile-item svg {
  width: 18px;
  height: 18px;
}

.profile-auth-buttons {
  padding: 0.75rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.profile-login,
.profile-signup {
  width: 100%;
  padding: 0.75rem 1rem;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.95rem;
  font-weight: 500;
  transition: all 0.3s ease;
}

.profile-login {
  background: white;
  color: #8b6f47;
  border: 2px solid #8b6f47;
}

.profile-login:hover {
  background: #f9f7f4;
}

.profile-signup {
  background: linear-gradient(135deg, #8b6f47 0%, #6d5a3a 100%);
  color: white;
}

.profile-signup:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(139, 111, 71, 0.3);
}

.profile-logout {
  padding: 0.75rem 1rem;
  cursor: pointer;
  transition: background-color 0.2s ease;
  color: #d9534f;
  font-size: 0.95rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  border: none;
  background: none;
  width: 100%;
  text-align: left;
  border-radius: 0 0 8px 8px;
}

.profile-logout:hover {
  background-color: #fff5f5;
}

.profile-logout svg {
  width: 18px;
  height: 18px;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
@media (max-width: 600px) {
  .header-container {
    padding: 0.65rem 0.5rem;
  }

  .hamburger-btn {
    margin-right: 0.3rem;
    font-size: 1.1rem;
    min-width: 40px;
    min-height: 40px;
  }

  .header-icons {
    gap: 0.5rem;
  }

  .icon-btn {
    font-size: 0.9rem;
    padding: 0.3rem;
    min-width: 40px;
    min-height: 40px;
  }

  .country-dropdown {
    font-size: 0.65rem;
    padding: 0.3rem 0.1rem;
    gap: 0.2rem;
    min-height: 40px;
  }

  .country-text {
    font-size: 0.65rem;
  }

  .logo img {
    max-width: 75px;
  }

  .sidebar {
    width: 85vw;
  }
}

@media (max-width: 480px) {
  .header-container {
    padding: 0.6rem 0.4rem;
  }

  .hamburger-btn {
    margin-right: 0.2rem;
    font-size: 1rem;
  }

  .header-icons {
    gap: 0.4rem;
  }

  .icon-btn {
    font-size: 0.8rem;
    padding: 0.25rem;
  }

  .country-dropdown {
    font-size: 0.6rem;
    padding: 0.25rem;
    gap: 0.15rem;
  }

  .country-text {
    display: none;
  }

  .logo img {
    max-width: 60px;
  }

  .sidebar {
    width: 90vw;
  }
}
.cart-btn {
  position: relative;
}

.cart-count {
  position: absolute;
  top: -6px;
  right: -6px;
  background: red;
  color: white;
  font-size: 12px;
  padding: 2px 6px;
  border-radius: 50%;
}
ya mera Authmodal.jsx ha import React, { useState, useEffect } from 'react'
import { useDispatch, useSelector } from 'react-redux'
import { loginUser, registerUser } from '../redux/slices/authSlice'
import { FiX, FiMail, FiLock, FiUser } from 'react-icons/fi'
import './AuthModal.css'

function AuthModal({ isOpen, onClose, initialMode = 'login' }) {
  const dispatch = useDispatch()
  const { loading, error } = useSelector(state => state.auth)
  const [isLogin, setIsLogin] = useState(initialMode === 'login')
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    password: '',
    confirmPassword: '',
  })
  const [formError, setFormError] = useState('')

  // Reset to initial mode when modal opens
  useEffect(() => {
    if (isOpen) {
      setIsLogin(initialMode === 'login')
      setFormData({ name: '', email: '', password: '', confirmPassword: '' })
      setFormError('')
    }
  }, [isOpen, initialMode])

  const handleChange = (e) => {
    const { name, value } = e.target
    setFormData(prev => ({
      ...prev,
      [name]: value,
    }))
    setFormError('')
  }

  const handleSubmit = async (e) => {
    e.preventDefault()
    setFormError('')

    if (isLogin) {
      if (!formData.email || !formData.password) {
        setFormError('Please fill all fields')
        return
      }

      const result = await dispatch(loginUser({
        email: formData.email,
        password: formData.password,
      }))

      if (result.payload?.success) {
        onClose()
        setFormData({ name: '', email: '', password: '', confirmPassword: '' })
      }
    } else {
      if (!formData.name || !formData.email || !formData.password || !formData.confirmPassword) {
        setFormError('Please fill all fields')
        return
      }

      if (formData.password !== formData.confirmPassword) {
        setFormError('Passwords do not match')
        return
      }

      if (formData.password.length < 6) {
        setFormError('Password must be at least 6 characters')
        return
      }

      const result = await dispatch(registerUser({
        name: formData.name,
        email: formData.email,
        password: formData.password,
      }))

      if (result.payload?.success) {
        // Automatically switch to login form after successful registration
        setFormData({ name: '', email: '', password: '', confirmPassword: '' })
        setIsLogin(true)
        setFormError('')
      }
    }
  }

  if (!isOpen) return null

  return (
    <div className="auth-modal-overlay" onClick={onClose}>
      <div className="auth-modal-container" onClick={(e) => e.stopPropagation()}>
        {/* Close Button */}
        <button className="auth-close-btn" onClick={onClose}>
          <FiX size={24} />
        </button>

        {/* Header */}
        <div className="auth-header">
          <h2>{isLogin ? 'Login' : 'Create Account'}</h2>
          <p>{isLogin ? 'Welcome back to Baroque' : 'Join Baroque Fashion'}</p>
        </div>

        {/* Form */}
        <form onSubmit={handleSubmit} className="auth-form">
          {/* Error Message */}
          {(formError || error) && (
            <div className="auth-error">
              {formError || error}
            </div>
          )}

          {/* Name Field (Register Only) */}
          {!isLogin && (
            <div className="form-group">
              <label htmlFor="name">Full Name</label>
              <div className="input-wrapper">
                <FiUser className="input-icon" size={18} />
                <input
                  type="text"
                  id="name"
                  name="name"
                  placeholder="Enter your full name"
                  value={formData.name}
                  onChange={handleChange}
                />
              </div>
            </div>
          )}

          {/* Email Field */}
          <div className="form-group">
            <label htmlFor="email">Email Address</label>
            <div className="input-wrapper">
              <FiMail className="input-icon" size={18} />
              <input
                type="email"
                id="email"
                name="email"
                placeholder="Enter your email"
                value={formData.email}
                onChange={handleChange}
              />
            </div>
          </div>

          {/* Password Field */}
          <div className="form-group">
            <label htmlFor="password">Password</label>
            <div className="input-wrapper">
              <FiLock className="input-icon" size={18} />
              <input
                type="password"
                id="password"
                name="password"
                placeholder="Enter your password"
                value={formData.password}
                onChange={handleChange}
              />
            </div>
          </div>

          {/* Confirm Password (Register Only) */}
          {!isLogin && (
            <div className="form-group">
              <label htmlFor="confirmPassword">Confirm Password</label>
              <div className="input-wrapper">
                <FiLock className="input-icon" size={18} />
                <input
                  type="password"
                  id="confirmPassword"
                  name="confirmPassword"
                  placeholder="Confirm your password"
                  value={formData.confirmPassword}
                  onChange={handleChange}
                />
              </div>
            </div>
          )}

          {/* Submit Button */}
          <button 
            type="submit" 
            className="auth-submit-btn"
            disabled={loading}
          >
            {loading ? 'Loading...' : (isLogin ? 'Login' : 'Create Account')}
          </button>
        </form>

        {/* Toggle Auth Type */}
        <div className="auth-toggle">
          <p>
            {isLogin ? "Don't have an account? " : 'Already have an account? '}
            <button
              type="button"
              className="toggle-btn"
              onClick={() => {
                setIsLogin(!isLogin)
                setFormError('')
                setFormData({ name: '', email: '', password: '', confirmPassword: '' })
              }}
            >
              {isLogin ? 'Sign Up' : 'Login'}
            </button>
          </p>
        </div>

        {/* Divider */}
        <div className="auth-divider">
          <span>or</span>
        </div>

        {/* Guest Login */}
        <button
          type="button"
          className="auth-guest-btn"
          onClick={onClose}
        >
          Continue as Guest
        </button>
      </div>
    </div>
  )
}

export default AuthModal
ya oski css      /* Auth Modal Overlay */
.auth-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Auth Modal Container */
.auth-modal-container {
  background: white;
  border-radius: 12px;
  padding: 2.5rem;
  width: 90%;
  max-width: 450px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
  animation: slideUp 0.3s ease;
  position: relative;
}

@keyframes slideUp {
  from {
    transform: translateY(50px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Close Button */
.auth-close-btn {
  position: absolute;
  top: 1.5rem;
  right: 1.5rem;
  background: none;
  border: none;
  cursor: pointer;
  color: #999;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  border-radius: 4px;
  transition: all 0.3s ease;
}

.auth-close-btn:hover {
  background: #f5f5f5;
  color: #333;
}

/* Auth Header */
.auth-header {
  text-align: center;
  margin-bottom: 2rem;
}

.auth-header h2 {
  font-size: 1.8rem;
  color: #333;
  margin: 0 0 0.5rem 0;
  font-weight: 700;
}

.auth-header p {
  color: #999;
  margin: 0;
  font-size: 0.95rem;
}

/* Auth Form */
.auth-form {
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
}

/* Form Group */
.form-group {
  display: flex;
  flex-direction: column;
  gap: 0.6rem;
}

.form-group label {
  font-size: 0.9rem;
  font-weight: 600;
  color: #333;
}

/* Input Wrapper */
.input-wrapper {
  display: flex;
  align-items: center;
  gap: 0.8rem;
  background: #f9f9f9;
  border: 2px solid #f0f0f0;
  border-radius: 8px;
  padding: 0 1rem;
  transition: all 0.3s ease;
}

.input-wrapper:focus-within {
  border-color: #8b6f47;
  background: white;
  box-shadow: 0 4px 12px rgba(139, 111, 71, 0.15);
}

.input-icon {
  color: #8b6f47;
  flex-shrink: 0;
}

.input-wrapper input {
  flex: 1;
  background: transparent;
  border: none;
  outline: none;
  padding: 0.9rem 0;
  font-size: 1rem;
  color: #333;
  font-family: inherit;
}

.input-wrapper input::placeholder {
  color: #999;
}

/* Error Message */
.auth-error {
  background: #fee;
  border: 1px solid #fcc;
  color: #c33;
  padding: 0.9rem 1rem;
  border-radius: 8px;
  font-size: 0.9rem;
  text-align: center;
  animation: slideDown 0.3s ease;
}

@keyframes slideDown {
  from {
    transform: translateY(-10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Submit Button */
.auth-submit-btn {
  background: linear-gradient(135deg, #8b6f47 0%, #6d5a3a 100%);
  color: white;
  border: none;
  padding: 1rem;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.auth-submit-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(139, 111, 71, 0.3);
}

.auth-submit-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Toggle Auth Type */
.auth-toggle {
  text-align: center;
  margin-top: 1.5rem;
}

.auth-toggle p {
  margin: 0;
  color: #666;
  font-size: 0.9rem;
}

.toggle-btn {
  background: none;
  border: none;
  color: #8b6f47;
  cursor: pointer;
  font-weight: 600;
  text-decoration: underline;
  transition: color 0.3s ease;
}

.toggle-btn:hover {
  color: #6d5a3a;
}

/* Divider */
.auth-divider {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin: 1.5rem 0;
  color: #ddd;
}

.auth-divider::before,
.auth-divider::after {
  content: '';
  flex: 1;
  height: 1px;
  background: #ddd;
}

.auth-divider span {
  color: #999;
  font-size: 0.85rem;
  text-transform: uppercase;
}

/* Guest Button */
.auth-guest-btn {
  background: white;
  border: 2px solid #f0f0f0;
  color: #333;
  padding: 0.9rem;
  border-radius: 8px;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.auth-guest-btn:hover {
  border-color: #8b6f47;
  color: #8b6f47;
}

/* Responsive */
@media (max-width: 768px) {
  .auth-modal-container {
    width: 95%;
    padding: 2rem;
  }

  .auth-header h2 {
    font-size: 1.5rem;
  }

  .form-group {
    gap: 0.5rem;
  }

  .input-wrapper {
    padding: 0 0.8rem;
  }

  .input-wrapper input {
    padding: 0.8rem 0;
  }
}

@media (max-width: 480px) {
  .auth-modal-container {
    width: 95%;
    padding: 1.5rem;
    border-radius: 8px;
  }

  .auth-header h2 {
    font-size: 1.3rem;
  }

  .auth-header p {
    font-size: 0.85rem;
  }

  .auth-form {
    gap: 1rem;
  }

  .form-group label {
    font-size: 0.85rem;
  }

  .input-wrapper {
    padding: 0 0.7rem;
    gap: 0.6rem;
  }

  .input-icon {
    font-size: 0.9rem;
  }

  .input-wrapper input {
    font-size: 0.95rem;
    padding: 0.7rem 0;
  }

  .auth-submit-btn {
    padding: 0.9rem;
    font-size: 0.9rem;
  }

  .auth-toggle p {
    font-size: 0.85rem;
  }
}
ya mera redux folder ka ander slices folder ma authSlice ha import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'
import { authAPI } from '../../services/api'

// Thunks
export const loginUser = createAsyncThunk(
  'auth/loginUser',
  async (credentials, { rejectWithValue }) => {
    try {
      const response = await authAPI.login(credentials)
      localStorage.setItem('token', response.data.token)
      return response.data
    } catch (error) {
      return rejectWithValue(error.response.data.message)
    }
  }
)

export const registerUser = createAsyncThunk(
  'auth/registerUser',
  async (data, { rejectWithValue }) => {
    try {
      const response = await authAPI.register(data)
      localStorage.setItem('token', response.data.token)
      return response.data
    } catch (error) {
      return rejectWithValue(error.response.data.message)
    }
  }
)

export const getProfile = createAsyncThunk(
  'auth/getProfile',
  async (_, { rejectWithValue }) => {
    try {
      const response = await authAPI.getProfile()
      return response.data.user
    } catch (error) {
      return rejectWithValue(error.response?.data?.message || 'Error fetching profile')
    }
  }
)

const initialState = {
  user: null,
  isAuthenticated: false,
  loading: false,
  error: null,
  token: localStorage.getItem('token') || null,
}

const authSlice = createSlice({
  name: 'auth',
  initialState,
  reducers: {
    logout: (state) => {
      state.user = null
      state.isAuthenticated = false
      state.token = null
      localStorage.removeItem('token')
    },
    clearError: (state) => {
      state.error = null
    },
  },
  extraReducers: (builder) => {
    // Login
    builder
      .addCase(loginUser.pending, (state) => {
        state.loading = true
        state.error = null
      })
      .addCase(loginUser.fulfilled, (state, action) => {
        state.loading = false
        state.isAuthenticated = true
        state.user = action.payload.user
        state.token = action.payload.token
      })
      .addCase(loginUser.rejected, (state, action) => {
        state.loading = false
        state.error = action.payload
      })

    // Register
    builder
      .addCase(registerUser.pending, (state) => {
        state.loading = true
        state.error = null
      })
      .addCase(registerUser.fulfilled, (state, action) => {
        state.loading = false
        state.isAuthenticated = true
        state.user = action.payload.user
        state.token = action.payload.token
      })
      .addCase(registerUser.rejected, (state, action) => {
        state.loading = false
        state.error = action.payload
      })

    // Get Profile
    builder
      .addCase(getProfile.pending, (state) => {
        state.loading = true
      })
      .addCase(getProfile.fulfilled, (state, action) => {
        state.loading = false
        state.user = action.payload
        state.isAuthenticated = true
      })
      .addCase(getProfile.rejected, (state) => {
        state.loading = false
        state.isAuthenticated = false
      })
  },
})

export const { logout, clearError } = authSlice.actions
export default authSlice.reducer
or ya mera redux folder ma main store.js ha import { configureStore } from '@reduxjs/toolkit'
import cartReducer from './slices/cartSlice'
import authReducer from './slices/authSlice'
import productReducer from './slices/productSlice'
import wishlistReducer from './slices/wishlistSlice'

export const store = configureStore({
  reducer: {
    cart: cartReducer,
    auth: authReducer,
    products: productReducer,
    wishlist: wishlistReducer,
  },
})

export default store
ya mera app.jsx ha import { Routes, Route } from "react-router-dom"
import { useDispatch } from "react-redux"
import { useEffect } from "react"
import { getProfile } from "./redux/slices/authSlice"
import "./App.css"

// Pages
import Home from "./pages/Home"
import Product from "./pages/Product"
import ProductDetail from "./pages/DetailPage"
import CartPage from "./pages/CartPage"
import FavouritePage from "./pages/FavouritePage"

// Components
import Marquee from "./components/Marquee"
import Header from "./components/Header"
import Footer from "./components/Footer"
import { CartProvider } from "./context/CartContext"

function App() {
  const dispatch = useDispatch()

  useEffect(() => {
    const token = localStorage.getItem("token")
    if (token) dispatch(getProfile())
  }, [dispatch])

  return (
    <CartProvider>
      <Marquee />
      <Header />

      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/product" element={<Product />} />
         <Route path="/product/:id" element={<ProductDetail />} />
        <Route path="/cart" element={<CartPage />} />
        <Route path="/favourites" element={<FavouritePage />} />
      </Routes>

      <Footer />
    </CartProvider>
  )
}

export default App
ya mera User.js ha models folder ka ander import mongoose from "mongoose";
import bcrypt from "bcryptjs";

const userSchema = new mongoose.Schema({
  name: { type: String, required: true },
  email: { type: String, required: true, unique: true, lowercase: true },
  password: { type: String, required: true },
  phone: { type: String, default: "" },
  address: { type: String, default: "" },
  city: { type: String, default: "" },
  createdAt: { type: Date, default: Date.now },
});

// Hash password before saving
userSchema.pre("save", async function () {
  if (!this.isModified("password")) return;
  const salt = await bcrypt.genSalt(10);
  this.password = await bcrypt.hash(this.password, salt);
});

// Compare password
userSchema.methods.comparePassword = async function (enteredPassword) {
  return await bcrypt.compare(enteredPassword, this.password);
};

const User = mongoose.model("User", userSchema);
export default User;
ya mera auth ka middle wear ha import jwt from "jsonwebtoken";
import User from "../models/User.js";

const authMiddleware = async (req, res, next) => {
  let token;

  if (req.headers.authorization?.startsWith("Bearer")) {
    token = req.headers.authorization.split(" ")[1];
  }

  if (!token) {
    return res.status(401).json({ message: "Not authorized" });
  }

  try {
    const decoded = jwt.verify(token, process.env.JWT_SECRET);
    req.user = await User.findById(decoded.id).select("-password");
    next();
  } catch (error) {
    res.status(401).json({ message: "Invalid token" });
  }
};

export default authMiddleware;
ya mera authRoute ha import express from "express";
import jwt from "jsonwebtoken";
import User from "../models/User.js";

const router = express.Router();

// Generate JWT Token
const generateToken = (id) => {
  return jwt.sign({ id }, process.env.JWT_SECRET, { expiresIn: "7d" });
};

// ===================== REGISTER =====================
router.post("/register", async (req, res) => {
  try {
    const { name, email, password } = req.body;

    if (!name || !email || !password) {
      return res.status(400).json({ message: "Please fill all fields" });
    }

    const userExists = await User.findOne({ email });
    if (userExists) {
      return res.status(400).json({ message: "Email already registered" });
    }

    const user = await User.create({ name, email, password });
    const token = generateToken(user._id);

    res.status(201).json({
      success: true,
      token,
      user: {
        id: user._id,
        name: user.name,
        email: user.email,
      },
    });
  } catch (error) {
    res.status(500).json({ message: error.message });
  }
});

// ===================== LOGIN =====================
router.post("/login", async (req, res) => {
  try {
    const { email, password } = req.body;

    if (!email || !password) {
      return res.status(400).json({ message: "Please fill all fields" });
    }

    const user = await User.findOne({ email });
    if (!user) {
      return res.status(400).json({ message: "Invalid credentials" });
    }

    const isMatch = await user.comparePassword(password);
    if (!isMatch) {
      return res.status(400).json({ message: "Invalid credentials" });
    }

    const token = generateToken(user._id);

    res.status(200).json({
      success: true,
      token,
      user: {
        id: user._id,
        name: user.name,
        email: user.email,
      },
    });
  } catch (error) {
    res.status(500).json({ message: error.message });
  }
});

// ===================== GET PROFILE =====================
router.get("/me", async (req, res) => {
  try {
    const token = req.headers.authorization?.split(" ")[1];
    if (!token) {
      return res.status(401).json({ message: "No token provided" });
    }

    const decoded = jwt.verify(token, process.env.JWT_SECRET);
    const user = await User.findById(decoded.id).select("-password");

    if (!user) {
      return res.status(404).json({ message: "User not found" });
    }

    res.status(200).json({
      success: true,
      user,
    });
  } catch (error) {
    res.status(500).json({ message: error.message });
  }
});

// ===================== UPDATE PROFILE =====================
router.put("/me", async (req, res) => {
  try {
    const token = req.headers.authorization?.split(" ")[1];
    if (!token) {
      return res.status(401).json({ message: "No token provided" });
    }

    const decoded = jwt.verify(token, process.env.JWT_SECRET);

    const user = await User.findByIdAndUpdate(
      decoded.id,
      req.body,
      { new: true }
    ).select("-password");

    res.status(200).json({
      success: true,
      user,
    });
  } catch (error) {
    res.status(500).json({ message: error.message });
  }
});

export default router;
ya mera server.js ha import express from "express";
import mongoose from "mongoose";
import cors from "cors";
import dotenv from "dotenv";

import authRoutes from "./routes/authRoutes.js";
import productRoutes from "./routes/productRoutes.js";
import cartRoutes from "./routes/cartRoutes.js";
import favouriteRoutes from "./routes/favouriteRoutes.js";

dotenv.config();

const app = express();

// ================= Middleware =================
app.use(cors());
app.use(express.json());
app.use(express.urlencoded({ extended: true }));
app.use("/uploads", express.static("uploads"));

// ================= Routes =================
app.use("/api/auth", authRoutes);
app.use("/api/products", productRoutes);
app.use("/api/cart", cartRoutes);
app.use("/api/favourites", favouriteRoutes);

// ================= Health Check =================
app.get("/api/health", (req, res) => {
  res.status(200).json({ message: "Server is running" });
});

// ================= Error Handler =================
app.use((err, req, res, next) => {
  console.error(err.stack);
  res.status(500).json({ message: "Something went wrong" });
});

// ================= DB + Server =================
const PORT = process.env.PORT || 5000;

mongoose
  .connect(process.env.MONGODB_URI)
  .then(() => {
    console.log("MongoDB connected");
    app.listen(PORT, () => {
      console.log(`Server running on http://localhost:${PORT}`);
    });
  })
  .catch((err) => {
    console.error("MongoDB connection error:", err.message);
  });
ab ma na apko apna auth related sara code da diya ha is ko ap na is UI ka mutabik bnaana ha or mera signup wala jo page ha wo is trha ka hona chaiya user jub profile icon per click kara to ager wo login per click kara to wo login ka page bnao or us per chla jai or ager signup per click kara to sigup ka path bnao or uska UI asa hona chaioya ya mera sigup page ka Ui ha     <div class="container-fluid ">
        <div class="row ">
            <div class="col-lg-6  pt-5 p-xl-5 order-2 order-lg-1" id="left-side" >
                 <div class="container-fluid ps-xl-5">
                    <div class="row mb-2">
                        <div class="col">
                            <div class="d-flex justify-content-between heading"><h2>Contact</h2> <a href="#">Sign in</a></div>
                        </div>
                    </div>
                 
                 <div class="row mb-3">
                    <div class="col">
                        <input type="email" placeholder="Email" class="input">
                    </div>
                 </div>
                 <div class="row mb-4">
                    <div class="col checkbox" >
                        <input type="checkbox"> <label> Email me with news and offers</label>
                    </div>
                 </div> 
                 <div class="row mb-4">
                    <div class="col">
                         <div id="international-website" class="p-3">
                            <span>!</span>
                            <b>International Website</b>
                             <p>To dilever prodoucts outside of Pakistan visit our international website: <a href="https://baroque.com.pk">https://baroque.com.pk</a></p>
                                                        
                         </div>
                    </div>
                </div>
                 <div class="row">
                    <div class="col heading">
                         <h2>Dilevery</h2>
                    </div>
                 </div>                                                  
                
                 <div class="row mb-3">
                    <div class="col ">
                     <select class="input">
                        <option value="">Country/region</option>
                        <option value="">Pakistan</option>
                     </select>
                     
                    </div>
                 </div>   
                 <div class="row mb-3">
                    <div class="col-6  ">
                        <input type="text" placeholder="First Name" class="name"> 
                    </div>
                    <div class="col-6">
                        <input type="text" placeholder="Last Name" class="name">
                    </div>
                 </div>  
                 <div class="row mb-3">
                    <div class="col">
                    <input type="address" placeholder="Address" class="input">
                    </div>
                 </div> 
                 <div class="row mb-3">
                    <div class="col">
                    <input type="" placeholder="Apartment,suite,etc. (optional)" class="input">
                    </div>
                 </div> 
                 <div class="row mb-3">
                    <div class="col-6 ">
                        <input type="text" placeholder="City" class="name">
                    </div>
                    <div class="col-6">
                        <input type="number" placeholder="Postal code (optional)" class="name">
                    </div>
                 </div> 
                 <div class="row mb-3">
                    <div class="col ">
                        <input type="number" placeholder="Phone  ?" class="input" >
                        
                    </div>
                 </div>  
                 <div class="row mb-3">
                    <div class="col checkbox" >
                        <input type="checkbox"> <label> Save this information for next time</label>
                    </div>                                                                 
                </div>
                 <div class="row">
                    <div class="col heading">
                         <h2> Select your city</h2>
                    </div>
                 </div>  
                 <div class="row mb-3">
                    <div class="col ">
                     <select class="input">
                        <option value=""></option>
                        <option value="Pakistan">Pakistan</option>
                        <option value="India">India</option>
                     </select>
                     
                    </div>
                 </div>
                 <div class="row">
                    <div class="col heading">
                         <h2> Shipping method</h2>
                    </div>
                 </div> 
                 <div class="row mb-3">
                    <div class="col">
                        <input type="" placeholder="Local Dilevery" class="input" style="border-color: black;">
                    </div>
                 </div>   
                 <div class="row">
                    <div class="col heading">
                         <h2> payment</h2>
                         <p style="color: gray;">All transactions are secure and encrypted</p>
                    </div>
                 </div> 
                 <div class="row " id="payment-area">
                    <div class="col">
                       <div class="container-fluid">
                        <div class="row ">
                            <div class="col py-3 radio">
                                <input id="radio1" type="radio" name="payment-method"> 
                                <label for="radio1">Cash on dilevery(COD)</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col py-3 radio">
                                <input id="radio2" type="radio" name="payment-method"> 
                                <label for="radio2">Credit card</label>
                            </div>
                        </div>
                        <!-- </div>
                    <div class="container-fluid" >
                        
                        <div class="row mb-3" >
                            <div class="col">
                                <input type="number" placeholder=" Card Number" class="input">
                            </div>
                        </div> 
                        
                        <div class="row mb-3">
                            <div class="col">
                                 <input type="number" placeholder="Expiration Date ( MM/ yy)" class="name">
                                 <input type="number" placeholder="Security code" class="name" id="code">
                            </div>
                        </div>
                        <div class="row  mb-3">
                            <div class="col">
                                <input type="" placeholder="Name on card" class="input">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col checkbox">
                                <input type="checkbox">
                                <label> Use shipping address as a billing address</label>
                            </div>
                        </div>                        
                    </div> -->
                    
                        
                        <div class="row mb-3" >
                            <div class="col">
                                <input type="number" placeholder=" Card Number" class="input">
                            </div>
                        </div> 
                        
                        <div class="row mb-3">
                            <div class="col-6">
                                 <input type="number" placeholder="Expiration Date ( MM/ yy)" class="name">
                            </div>
                            <div class="col-6">
                                 <input type="number" placeholder="Security code" class="name" id="code">
                            </div>
                        </div>
                        <div class="row  mb-3">
                            <div class="col">
                                <input type="" placeholder="Name on card" class="input">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col checkbox">
                                <input type="checkbox">
                                <label> Use shipping address as a billing address</label>
                            </div>
                        </div>
                    </div> 
                                                                             
            </div>
        </div>
        <div class="row mt-3">
            <div class="col">
                <button id="pay-now">Pay Now</button>
            </div>
        </div>
        <hr class="mt-5">
        <div class="row" id="links">
             <div class="col">
            <a href="#">Refund policy</a>
            <a href="#">Shipping</a>
            <a href="#">Privacy policy</a>
            <a href="#">Terms of service</a>
            <a href="#">Contact</a>                
             </div>
        </div>
    </div>
    </div> or ya oska css .input{
    padding: 15px 0px 15px 0px;
    width: 100%;
    border: 1px solid gray;
    color: gray;
    border-radius: 6px;
    /* outline: none; */
}
.input::placeholder{
    padding-left: 10px;
    /* font-size: 18px; */
}
 

#international-website{
    background-color: bisque;
    border-radius: 6px;
}
#international-website span{
    font-size: 16px;
    border: 1px solid black;
    padding: 4px;
    border-radius: 50%;
}
#international-website p{
    font-size: 14px;
}
#international-website a{
    color: gray;
}
#delivery{
    font-size: 22px;
    font-weight: bolder;
}
.name{
    padding: 15px 0px 15px 0px;
    border: 1px solid gray;
    border-radius: 6px;
    width: 100%;
}
.name::placeholder{
    padding-left: 5px;
}
.checkbox label{
    margin-left: 10px;
}
#payment-area{
    border: 1px solid gray;
    border-radius: 6px;
}
.radio label{
    cursor: pointer;
    margin-left: 10px;
    
}
.radio:hover{
    cursor: pointer;
    border: 1px solid black;
}
/* #bg-color{
    
    background-color: lightsalmon;
} */

/* #code{
    margin-left: 10px;
} */
#pay-now{
    padding: 15px 0px 15px 0px;
    width: 100%;
    border: none;
    background-color: black;
    color: white;
    font-weight: bold;
    border-radius: 6px;
}
#links a{
    color: black;
    margin-right: 5px;
} app.jsx ma login or sigup page bi add kro ab ma na apko
apna almost sara code da diya ha ab isko implement krna start kro mere jis file ma zara sa bi change krna ha os file ko coplete code likh ka muja do copy paste ka liya or jin files ma change ki zarorat  nhi wo clearly btao
